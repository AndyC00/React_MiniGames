"use strict";(self.webpackChunkreact_dev=self.webpackChunkreact_dev||[]).push([[212],{212:(e,n,t)=>{t.r(n),t.d(n,{default:()=>f});var r=t(43),s=t(579);const o=4;function l(e){return Array.from({length:e},()=>Array(e).fill(0))}function a(e){const n=[];for(let t=0;t<e.length;t++)for(let r=0;r<e[t].length;r++)0===e[t][r]&&n.push([t,r]);return n}function c(e){const n=a(e);if(0===n.length)return e;const[t,r]=n[Math.floor(Math.random()*n.length)],s=e.map(e=>e.slice());return s[t][r]=Math.random()<.9?2:4,s}function i(){let e=l(o);return e=c(e),e=c(e),e}function u(e){const n=e.length,t=l(n);for(let r=0;r<n;r++)for(let s=0;s<n;s++)t[n-1-s][r]=e[r][s];return t}function d(e){const n=e.length,t=l(n);for(let r=0;r<n;r++)for(let s=0;s<n;s++)t[s][n-1-r]=e[r][s];return t}function h(e){return e.map(e=>e.slice().reverse())}function f(){const[e,n]=(0,r.useState)(()=>i()),[t,l]=(0,r.useState)(0),[f,m]=(0,r.useState)(!1);function g(e){f||n(n=>{const{next:t,moved:r,gained:s}=function(e,n){let t=e.map(e=>e.slice());"up"===n?t=u(t):"down"===n?t=d(t):"right"===n&&(t=h(t));let r=!1,s=0;const o=t.map(e=>{const{merged:n,moved:t,gained:o}=function(e){const n=e.filter(e=>0!==e),t=[];let r=0;for(let o=0;o<n.length;o++)if(o<n.length-1&&n[o]===n[o+1]){const e=2*n[o];t.push(e),r+=e,o++}else t.push(n[o]);for(;t.length<e.length;)t.push(0);const s=t.some((n,t)=>n!==e[t]);return{merged:t,moved:s,gained:r}}(e);return t&&(r=!0),s+=o,n});return{next:"up"===n?d(o):"down"===n?u(o):"right"===n?h(o):o,moved:r,gained:s}}(n,e);if(!r)return n;l(e=>e+s);const o=c(t);return function(e){if(a(e).length>0)return!1;const n=e.length;for(let t=0;t<n;t++)for(let r=0;r<n;r++){const s=e[t][r];if(t+1<n&&e[t+1][r]===s||r+1<n&&e[t][r+1]===s)return!1}return!0}(o)&&m(!0),o})}return(0,r.useEffect)(()=>{const e=e=>{const n={arrowup:"up",arrowdown:"down",arrowleft:"left",arrowright:"right",w:"up",s:"down",a:"left",d:"right"}[e.key.toLowerCase()];n&&(e.preventDefault(),g(n))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[f]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"header2048",children:[(0,s.jsx)("h2",{className:"title2048",children:"2048"}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,s.jsxs)("span",{className:"score2048",children:["Score: ",t]}),(0,s.jsx)("button",{className:"btn2048",onClick:function(){n(i()),l(0),m(!1)},children:"New Game"})]})]}),(0,s.jsx)("div",{className:"grid2048",style:{"--cols":o},children:e.map((e,n)=>e.map((e,t)=>{return(0,s.jsx)("div",{className:(r=e,"cell2048 v".concat(r||0)),children:e||""},"".concat(n,"-").concat(t));var r}))}),(0,s.jsxs)("div",{className:"controls2048",role:"group","aria-label":"Move controls",children:[(0,s.jsx)("div",{}),(0,s.jsx)("button",{className:"btn2048 arrowBtn2048",onClick:()=>g("up"),"aria-label":"Up",children:"\ud83d\udd3c"}),(0,s.jsx)("div",{}),(0,s.jsx)("button",{className:"btn2048 arrowBtn2048",onClick:()=>g("left"),"aria-label":"Left",children:"\u25c0\ufe0f"}),(0,s.jsx)("div",{}),(0,s.jsx)("button",{className:"btn2048 arrowBtn2048",onClick:()=>g("right"),"aria-label":"Right",children:"\u25b6\ufe0f"}),(0,s.jsx)("div",{}),(0,s.jsx)("button",{className:"btn2048 arrowBtn2048",onClick:()=>g("down"),"aria-label":"Down",children:"\ud83d\udd3d"}),(0,s.jsx)("div",{})]}),f&&(0,s.jsx)("p",{className:"GameOver2048",children:" Game Over "})]})}}}]);
//# sourceMappingURL=212.ac7953d9.chunk.js.map