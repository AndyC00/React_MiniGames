"use strict";(self.webpackChunkreact_dev=self.webpackChunkreact_dev||[]).push([[476],{476:(n,e,t)=>{t.r(e),t.d(e,{default:()=>h});var c=t(43),r=t(579);const l=0,o=1,s=2,a={[l]:"",[o]:"\ud83d\udc2e",[s]:"1\ufe0f\u20e3"},i=[[0,1],[1,0],[1,1],[1,-1]];function u(n){return Array.from({length:n},()=>Array(n).fill(l))}function d(n,e,t){const c=n.length,r=c>0?n[0].length:0;return e>=0&&e<c&&t>=0&&t<r}function f(n,e,t,c,r){const o=n[e][t];if(o===l)return[];const s=[[e,t]];let a=e+c,i=t+r;for(;d(n,a,i)&&n[a][i]===o;)s.push([a,i]),a+=c,i+=r;for(a=e-c,i=t-r;d(n,a,i)&&n[a][i]===o;)s.unshift([a,i]),a-=c,i-=r;return s}function h(n){let{size:e=19,cell:t=36}=n;const[d,h]=(0,c.useState)(()=>u(e)),[m,p]=(0,c.useState)(o),[x,b]=(0,c.useState)(null),[j,k]=(0,c.useState)([]),[g,v]=(0,c.useState)(null),[w,y]=(0,c.useState)(!1);function S(n,e){if(x||d[n][e]!==l)return;const t={board:d.map(n=>n.slice()),current:m};v(t),y(!0);const c=d.map(n=>n.slice());c[n][e]=m;const r=function(n,e,t){const c=t[n][e];if(c===l)return null;for(const[r,l]of i){const o=f(t,n,e,r,l);if(o.length>=5)return{winner:c,line:o}}return null}(n,e,c);if(h(c),r)return b(r.winner),void k(r.line);p(n=>n===o?s:o)}return(0,r.jsxs)("div",{className:"gomoku",children:[(0,r.jsxs)("div",{className:"gomoku_panel",children:[(0,r.jsx)("strong",{children:"Gomoku"}),(0,r.jsxs)("span",{children:["Turn: ",m===o?(0,r.jsx)("b",{children:"\ud83d\udc2e"}):(0,r.jsx)("b",{children:"\ud83d\udc481\ufe0f\u20e3"})]}),x&&(0,r.jsxs)("span",{children:["Winner: ",x===o?(0,r.jsx)("b",{children:"Player \ud83d\udc2e"}):(0,r.jsx)("b",{children:"Player \ud83d\udc481\ufe0f\u20e3"})]})]}),(0,r.jsxs)("div",{className:"gomoku_operation",children:[(0,r.jsx)("button",{onClick:function(){w&&g&&(h(g.board),p(g.current),b(null),k([]),y(!1),v(null))},disabled:!w,children:"Undo"}),(0,r.jsx)("button",{onClick:function(){h(u(e)),p(o),b(null),k([]),y(!1),v(null)},children:"Reset"})]}),(0,r.jsx)("div",{className:"gomoku_board",style:{gridTemplateColumns:"repeat(".concat(e,", ").concat(t,"px)"),gridTemplateRows:"repeat(".concat(e,", ").concat(t,"px)")},children:d.map((n,e)=>n.map((n,c)=>{const s=j.some(n=>{let[t,r]=n;return t===e&&r===c});return(0,r.jsx)("button",{className:"gomoku_cell ".concat(s?"win":""),onClick:()=>S(e,c),"aria-label":"row ".concat(e+1,", col ").concat(c+1,", ").concat(n===l?"empty":n===o?"black":"white"),style:{fontSize:"".concat(Math.floor(.7*t),"px")},children:a[n]},"".concat(e,"-").concat(c))}))})]})}}}]);
//# sourceMappingURL=476.e9847544.chunk.js.map