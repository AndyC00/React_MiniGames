"use strict";(self.webpackChunkreact_dev=self.webpackChunkreact_dev||[]).push([[212],{212:(e,n,t)=>{t.r(n),t.d(n,{default:()=>g});var r=t(43),s=t(579);const o=4,l=-1;function a(e){return Array.from({length:e},()=>Array(e).fill(0))}function c(e){const n=[];for(let t=0;t<e.length;t++)for(let r=0;r<e[t].length;r++)0===e[t][r]&&n.push([t,r]);return n}function i(e){const n=c(e);if(0===n.length)return e;const[t,r]=n[Math.floor(Math.random()*n.length)],s=e.map(e=>e.slice());return Math.random()<.3?s[t][r]=l:s[t][r]=Math.random()<.9?2:4,s}function d(){let e=a(o);return e=i(e),e=i(e),e}function u(e){const n=e.length,t=a(n);for(let r=0;r<n;r++)for(let s=0;s<n;s++)t[n-1-s][r]=e[r][s];return t}function h(e){const n=e.length,t=a(n);for(let r=0;r<n;r++)for(let s=0;s<n;s++)t[s][n-1-r]=e[r][s];return t}function f(e){return e.map(e=>e.slice().reverse())}function m(e,n){let t=e.map(e=>e.slice());"up"===n?t=u(t):"down"===n?t=h(t):"right"===n&&(t=f(t));let r=!1,s=0;const o=t.map(e=>{const{merged:n,moved:t,gained:o}=function(e){const n=e.filter(e=>0!==e),t=[];let r=0;for(let o=0;o<n.length;o++){const e=n[o],s=n[o+1],a=e===l,c=s===l;if(o<n.length-1&&(e===s&&!a||a!==c)){const n=2*(a?s:e);t.push(n),r+=n,o++}else t.push(e)}for(;t.length<e.length;)t.push(0);const s=t.some((n,t)=>n!==e[t]);return{merged:t,moved:s,gained:r}}(e);return t&&(r=!0),s+=o,n});return{next:"up"===n?h(o):"down"===n?u(o):"right"===n?f(o):o,moved:r,gained:s}}function g(){const[e,n]=(0,r.useState)(()=>d()),[t,a]=(0,r.useState)(0),[u,h]=(0,r.useState)(!1);function f(e){u||n(n=>{const{next:t,moved:r,gained:s}=m(n,e);if(!r)return n;a(e=>e+s);const o=i(t);return function(e){if(c(e).length>0)return!1;const n=e.length;for(let t=0;t<n;t++)for(let r=0;r<n;r++){const s=e[t][r];if(r+1<n){const n=e[t][r+1];if(s===n&&s!==l||s===l!==(n===l))return!1}if(t+1<n){const n=e[t+1][r];if(s===n&&s!==l||s===l!==(n===l))return!1}}return!0}(o)&&h(!0),o})}return(0,r.useEffect)(()=>{const e=e=>{const n={arrowup:"up",arrowdown:"down",arrowleft:"left",arrowright:"right",w:"up",s:"down",a:"left",d:"right"}[e.key.toLowerCase()];n&&(e.preventDefault(),f(n))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[u]),(0,s.jsxs)("div",{className:"container2048",children:[(0,s.jsxs)("div",{className:"instruction2048",children:[(0,s.jsx)("p",{children:"Control Keys:"}),(0,s.jsx)("p",{children:'Buttons below or "AWSD" on your keyboard'}),(0,s.jsx)("p",{children:"Note:"}),(0,s.jsx)("p",{children:"?? can merge with any numbers but itself"})]}),(0,s.jsxs)("div",{className:"header2048",children:[(0,s.jsx)("h2",{className:"title2048",children:"2048"}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,s.jsxs)("span",{className:"score2048",children:["Score: ",t]}),(0,s.jsx)("button",{className:"btn2048",onClick:function(){n(d()),a(0),h(!1)},children:"New Game"})]})]}),(0,s.jsx)("div",{className:"grid2048",style:{"--cols":o},children:e.map((e,n)=>e.map((e,t)=>{return(0,s.jsx)("div",{className:(r=e,r===l?"cell2048 wild2048":"cell2048 v".concat(r||0)),children:e===l?"??":e||""},"".concat(n,"-").concat(t));var r}))}),(0,s.jsxs)("div",{className:"controls2048",role:"group","aria-label":"Move controls",children:[(0,s.jsx)("div",{}),(0,s.jsx)("button",{className:"btn2048 arrowBtn2048",onClick:()=>f("up"),"aria-label":"Up",children:"\ud83d\udd3c"}),(0,s.jsx)("div",{}),(0,s.jsx)("button",{className:"btn2048 arrowBtn2048",onClick:()=>f("left"),"aria-label":"Left",children:"\u25c0\ufe0f"}),(0,s.jsx)("div",{}),(0,s.jsx)("button",{className:"btn2048 arrowBtn2048",onClick:()=>f("right"),"aria-label":"Right",children:"\u25b6\ufe0f"}),(0,s.jsx)("div",{}),(0,s.jsx)("button",{className:"btn2048 arrowBtn2048",onClick:()=>f("down"),"aria-label":"Down",children:"\ud83d\udd3d"}),(0,s.jsx)("div",{})]}),u&&(0,s.jsx)("p",{className:"GameOver2048",children:" Game Over "})]})}}}]);
//# sourceMappingURL=212.f769445c.chunk.js.map