"use strict";(self.webpackChunkreact_dev=self.webpackChunkreact_dev||[]).push([[212],{212:(e,n,t)=>{t.r(n),t.d(n,{default:()=>f});var r=t(43),o=t(579);const s=4;function l(e){return Array.from({length:e},()=>Array(e).fill(0))}function a(e){const n=[];for(let t=0;t<e.length;t++)for(let r=0;r<e[t].length;r++)0===e[t][r]&&n.push([t,r]);return n}function c(e){const n=a(e);if(0===n.length)return e;const[t,r]=n[Math.floor(Math.random()*n.length)],o=e.map(e=>e.slice());return o[t][r]=Math.random()<.9?2:4,o}function i(){let e=l(s);return e=c(e),e=c(e),e}function u(e){const n=e.length,t=l(n);for(let r=0;r<n;r++)for(let o=0;o<n;o++)t[n-1-o][r]=e[r][o];return t}function d(e){const n=e.length,t=l(n);for(let r=0;r<n;r++)for(let o=0;o<n;o++)t[o][n-1-r]=e[r][o];return t}function h(e){return e.map(e=>e.slice().reverse())}function f(){const[e,n]=(0,r.useState)(()=>i()),[t,l]=(0,r.useState)(0),[f,g]=(0,r.useState)(!1);function m(e){f||n(n=>{const{next:t,moved:r,gained:o}=function(e,n){let t=e.map(e=>e.slice());"up"===n?t=u(t):"down"===n?t=d(t):"right"===n&&(t=h(t));let r=!1,o=0;const s=t.map(e=>{const{merged:n,moved:t,gained:s}=function(e){const n=e.filter(e=>0!==e),t=[];let r=0;for(let s=0;s<n.length;s++)if(s<n.length-1&&n[s]===n[s+1]){const e=2*n[s];t.push(e),r+=e,s++}else t.push(n[s]);for(;t.length<e.length;)t.push(0);const o=t.some((n,t)=>n!==e[t]);return{merged:t,moved:o,gained:r}}(e);return t&&(r=!0),o+=s,n});return{next:"up"===n?d(s):"down"===n?u(s):"right"===n?h(s):s,moved:r,gained:o}}(n,e);if(!r)return n;l(e=>e+o);const s=c(t);return function(e){if(a(e).length>0)return!1;const n=e.length;for(let t=0;t<n;t++)for(let r=0;r<n;r++){const o=e[t][r];if(t+1<n&&e[t+1][r]===o||r+1<n&&e[t][r+1]===o)return!1}return!0}(s)&&g(!0),s})}return(0,r.useEffect)(()=>{const e=e=>{const n={arrowup:"up",arrowdown:"down",arrowleft:"left",arrowright:"right",w:"up",s:"down",a:"left",d:"right"}[e.key.toLowerCase()];n&&(e.preventDefault(),m(n))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[f]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"header2048",children:[(0,o.jsx)("h2",{style:{margin:0},children:"2048"}),(0,o.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,o.jsxs)("span",{style:{fontWeight:700},children:["Score: ",t]}),(0,o.jsx)("button",{className:"btn2048",onClick:function(){n(i()),l(0),g(!1)},children:"New Game"})]})]}),(0,o.jsx)("div",{className:"grid2048",style:{"--cols":s},children:e.map((e,n)=>e.map((e,t)=>{return(0,o.jsx)("div",{className:(r=e,"cell2048 v".concat(r||0)),children:e||""},"".concat(n,"-").concat(t));var r}))}),(0,o.jsxs)("div",{className:"controls2048",role:"group","aria-label":"Move controls",children:[(0,o.jsx)("div",{}),(0,o.jsx)("button",{className:"btn2048 arrowBtn2048",onClick:()=>m("up"),"aria-label":"Up",children:"\u2191"}),(0,o.jsx)("div",{}),(0,o.jsx)("button",{className:"btn2048 arrowBtn2048",onClick:()=>m("left"),"aria-label":"Left",children:"\u2190"}),(0,o.jsx)("div",{}),(0,o.jsx)("button",{className:"btn2048 arrowBtn2048",onClick:()=>m("right"),"aria-label":"Right",children:"\u2192"}),(0,o.jsx)("div",{}),(0,o.jsx)("button",{className:"btn2048 arrowBtn2048",onClick:()=>m("down"),"aria-label":"Down",children:"\u2193"}),(0,o.jsx)("div",{})]}),f&&(0,o.jsx)("p",{className:"GameOver2048",children:" Game Over "})]})}}}]);
//# sourceMappingURL=212.9661ca98.chunk.js.map